[pytest]
minversion = 6.0
# Performance optimized configuration - run fast tests by default
addopts = --strict-markers --strict-config --verbose --tb=short 
    --cov=src --cov-report=term-missing --cov-report=html:htmlcov --cov-report=xml --cov-fail-under=90
    -m "not slow and not integration and not contract"
    --maxfail=5 --durations=10 --disable-warnings
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
# Enhanced markers for comprehensive test categorization
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (may use real APIs)
    slow: Slow tests (comprehensive scenarios)
    contract: API contract validation tests
    edge_case: Edge case and boundary condition tests
    performance: Performance and load tests
    network: Tests that require network connectivity
    asyncio: marks tests as async (deselect with '-m "not asyncio"')
# Timeout configuration (requires pytest-timeout plugin)
# timeout = 300
# timeout_method = thread
# Logging configuration for better debugging
log_cli = true
log_cli_level = WARNING
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S
# Filter common warnings to reduce noise
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:telegram.*
    ignore::UserWarning:requests.*
